{"version":3,"file":"create-trip.js","sources":["pages/travel/create-trip.vue","../../HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdHJhdmVsL2NyZWF0ZS10cmlwLnZ1ZQ"],"sourcesContent":["<template>\n  <view class=\"create-trip\">\n    <!-- 页面标题 -->\n    <view class=\"header\">\n      <text class=\"title\">新建行程</text>\n    </view>\n\n    <!-- 表单内容 -->\n    <view class=\"form\">\n      <!-- 旅游攻略名称 -->\n      <view class=\"form-item\">\n        <text class=\"label\">旅游攻略名称</text>\n        <input v-model=\"tripName\" placeholder=\"输入旅游攻略名称\" />\n      </view>\n\n      <!-- 开始日期 -->\n      <view class=\"form-item\">\n        <text class=\"label\">开始日期</text>\n        <picker mode=\"date\" @change=\"onStartDateChange\">\n          <view class=\"picker\">{{ startDate || '选择开始日期' }}</view>\n        </picker>\n      </view>\n      <!-- 结束日期 -->\n      <view class=\"form-item\">\n        <text class=\"label\">结束日期</text>\n        <picker mode=\"date\" @change=\"onEndDateChange\">\n          <view class=\"picker\">{{ endDate || '选择结束日期' }}</view>\n        </picker>\n      </view>\n\n      <!-- 目的地 -->\n      <view class=\"form-item\">\n        <text class=\"label\">目的地</text>\n        <input v-model=\"destination\" placeholder=\"输入目的地\" />\n      </view>\n\n      <!-- 多天行程安排 -->\n      <view class=\"day-item\" v-for=\"(day, dayIndex) in days\" :key=\"dayIndex\">\n        <text class=\"day-label\">第 {{ dayIndex + 1 }} 天</text>\n        <view class=\"attraction-item\" v-for=\"(attraction, index) in day.attractions\" :key=\"index\">\n          <!-- 景点名称 -->\n          <input v-model=\"attraction.name\" placeholder=\"输入景点名称\" />\n          <!-- 预计时间 -->\n          <picker mode=\"time\" @change=\"(e) => onTimeChange(dayIndex, index, e)\">\n            <view class=\"picker\">{{ attraction.time || '选择预计时间' }}</view>\n          </picker>\n          <!-- 交通方式 -->\n          <view class=\"transport\" v-if=\"index > 0\">\n            <text class=\"label\">交通方式</text>\n            <picker @change=\"(e) => onTransportChange(dayIndex, index, e)\" :range=\"transportOptions\">\n              <view class=\"picker\">{{ attraction.transport || '选择交通方式' }}</view>\n            </picker>\n          </view>\n        </view>\n        <button @tap=\"addAttraction(dayIndex)\">添加景点</button>\n      </view>\n\n      <!-- 添加新的一天 -->\n      <button @tap=\"addDay\">添加新的一天</button>\n\n      <!-- 行程日记 -->\n      <view class=\"form-item\">\n        <text class=\"label\">行程日记</text>\n        <textarea v-model=\"diary\" placeholder=\"记录你的行程日记\"></textarea>\n      </view>\n\n      <!-- 上传图片 -->\n      <view class=\"form-item\">\n        <text class=\"label\">上传图片</text>\n        <button @tap=\"uploadImage\">上传图片</button>\n        <view class=\"image-preview\" v-if=\"imageUrl\">\n          <image :src=\"imageUrl\" mode=\"aspectFill\"></image>\n        </view>\n      </view>\n    </view>\n\n    <!-- 保存按钮 -->\n    <view class=\"footer\">\n      <button class=\"save-button\" @tap=\"saveTrip\">保存行程</button>\n    </view>\n  </view>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      tripName: '', // 旅游攻略名称\n      startDate: '', // 开始日期\n      endDate: '', // 结束日期\n      destination: '', // 目的地\n      diary: '', // 行程日记\n      imageUrl: '', // 上传的图片地址\n      days: [\n        {\n          attractions: [\n            { name: '', time: '', transport: '' }, // 景点名称、时间、交通方式\n          ],\n        },\n      ], // 每天的景点安排\n      transportOptions: ['步行', '公交', '地铁', '打车', '自驾'], // 交通方式选项\n    };\n  },\n  methods: {\n    // 选择开始日期\n    onStartDateChange(e) {\n      this.startDate = e.detail.value;\n    },\n    // 选择结束日期\n    onEndDateChange(e) {\n      this.endDate = e.detail.value;\n    },\n    // 选择时间\n    onTimeChange(dayIndex, attIndex, e) {\n      this.days[dayIndex].attractions[attIndex].time = e.detail.value;\n    },\n    // 选择交通方式\n    onTransportChange(dayIndex, attIndex, e) {\n      this.days[dayIndex].attractions[attIndex].transport = this.transportOptions[e.detail.value];\n    },\n    // 添加景点\n    addAttraction(dayIndex) {\n      this.days[dayIndex].attractions.push({ name: '', time: '', transport: '' });\n    },\n    // 添加新的一天\n    addDay() {\n      this.days.push({\n        attractions: [{ name: '', time: '', transport: '' }],\n      });\n    },\n    // 上传图片\n    uploadImage() {\n      uni.chooseImage({\n        count: 1,\n        success: (res) => {\n          this.imageUrl = res.tempFilePaths[0];\n        },\n      });\n    },\n    // 保存行程\n    saveTrip() {\n      const trip = {\n        name: this.tripName,\n        startDate: this.startDate,\n        endDate: this.endDate,\n        destination: this.destination,\n        days: this.days,\n        diary: this.diary,\n        imageUrl: this.imageUrl,\n      };\n      console.log('保存行程:', trip);\n      // 这里可以将行程保存到本地存储或服务器\n      uni.showToast({\n        title: '行程保存成功',\n        icon: 'success',\n      });\n      setTimeout(() => {\n        uni.navigateBack(); // 返回上一页\n      }, 1500);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.create-trip {\n  padding: 20rpx;\n}\n\n.header {\n  text-align: center;\n  margin-bottom: 40rpx;\n}\n.title {\n  font-size: 40rpx;\n  font-weight: bold;\n}\n\n.form-item {\n  margin-bottom: 30rpx;\n}\n.label {\n  display: block;\n  margin-bottom: 10rpx;\n  font-size: 32rpx;\n  color: #333;\n}\n.picker {\n  padding: 20rpx;\n  border: 1rpx solid #ccc;\n  border-radius: 10rpx;\n}\ninput,\ntextarea {\n  width: 100%;\n  padding: 20rpx;\n  border: 1rpx solid #ccc;\n  border-radius: 10rpx;\n}\n.day-item {\n  margin-bottom: 40rpx;\n}\n.day-label {\n  font-size: 36rpx;\n  font-weight: bold;\n  margin-bottom: 20rpx;\n}\n.attraction-item {\n  margin-bottom: 20rpx;\n}\n.transport {\n  margin-top: 10rpx;\n}\n.image-preview image {\n  width: 100%;\n  height: 300rpx;\n  margin-top: 20rpx;\n  border-radius: 10rpx;\n}\n\n.footer {\n  margin-top: 40rpx;\n}\n.save-button {\n  background-color: #007aff;\n  color: #fff;\n}\n</style>","import MiniProgramPage from 'D:/Lotus/Lotus/pages/travel/create-trip.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;AAoFA,MAAK,YAAU;AAAA,EACb,OAAO;AACL,WAAO;AAAA,MACL,UAAU;AAAA;AAAA,MACV,WAAW;AAAA;AAAA,MACX,SAAS;AAAA;AAAA,MACT,aAAa;AAAA;AAAA,MACb,OAAO;AAAA;AAAA,MACP,UAAU;AAAA;AAAA,MACV,MAAM;AAAA,QACJ;AAAA,UACE,aAAa;AAAA,YACX,EAAE,MAAM,IAAI,MAAM,IAAI,WAAW,GAAI;AAAA;AAAA,UACtC;AAAA,QACF;AAAA,MACF;AAAA;AAAA,MACD,kBAAkB,CAAC,MAAM,MAAM,MAAM,MAAM,IAAI;AAAA;AAAA;EAElD;AAAA,EACD,SAAS;AAAA;AAAA,IAEP,kBAAkB,GAAG;AACnB,WAAK,YAAY,EAAE,OAAO;AAAA,IAC3B;AAAA;AAAA,IAED,gBAAgB,GAAG;AACjB,WAAK,UAAU,EAAE,OAAO;AAAA,IACzB;AAAA;AAAA,IAED,aAAa,UAAU,UAAU,GAAG;AAClC,WAAK,KAAK,QAAQ,EAAE,YAAY,QAAQ,EAAE,OAAO,EAAE,OAAO;AAAA,IAC3D;AAAA;AAAA,IAED,kBAAkB,UAAU,UAAU,GAAG;AACvC,WAAK,KAAK,QAAQ,EAAE,YAAY,QAAQ,EAAE,YAAY,KAAK,iBAAiB,EAAE,OAAO,KAAK;AAAA,IAC3F;AAAA;AAAA,IAED,cAAc,UAAU;AACtB,WAAK,KAAK,QAAQ,EAAE,YAAY,KAAK,EAAE,MAAM,IAAI,MAAM,IAAI,WAAW,GAAI,CAAA;AAAA,IAC3E;AAAA;AAAA,IAED,SAAS;AACP,WAAK,KAAK,KAAK;AAAA,QACb,aAAa,CAAC,EAAE,MAAM,IAAI,MAAM,IAAI,WAAW,IAAI;AAAA,MACrD,CAAC;AAAA,IACF;AAAA;AAAA,IAED,cAAc;AACZA,oBAAAA,MAAI,YAAY;AAAA,QACd,OAAO;AAAA,QACP,SAAS,CAAC,QAAQ;AAChB,eAAK,WAAW,IAAI,cAAc,CAAC;AAAA,QACpC;AAAA,MACH,CAAC;AAAA,IACF;AAAA;AAAA,IAED,WAAW;AACT,YAAM,OAAO;AAAA,QACX,MAAM,KAAK;AAAA,QACX,WAAW,KAAK;AAAA,QAChB,SAAS,KAAK;AAAA,QACd,aAAa,KAAK;AAAA,QAClB,MAAM,KAAK;AAAA,QACX,OAAO,KAAK;AAAA,QACZ,UAAU,KAAK;AAAA;AAEjBA,oBAAY,MAAA,MAAA,OAAA,uCAAA,SAAS,IAAI;AAEzBA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,MAAM;AAAA,MACR,CAAC;AACD,iBAAW,MAAM;AACfA,sBAAG,MAAC,aAAY;AAAA,MACjB,GAAE,IAAI;AAAA,IACR;AAAA,EACF;AACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChKA,GAAG,WAAW,eAAe;"}