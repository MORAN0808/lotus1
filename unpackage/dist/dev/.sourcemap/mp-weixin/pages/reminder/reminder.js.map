{"version":3,"file":"reminder.js","sources":["pages/reminder/reminder.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcmVtaW5kZXIvcmVtaW5kZXIudnVl"],"sourcesContent":["<template>\n  <view class=\"container\">\n    <!-- 头部 -->\n    <view class=\"header\">\n      <text class=\"title\">提醒事项</text>\n      <text class=\"subtitle\">添加行程提醒事项，例如：出行抢票、景点预约等</text>\n    </view>\n\n    <!-- 添加按钮 -->\n    <view class=\"add-btn\">\n      <button @click=\"gotoAddPage\">+ 添加提醒事项</button>\n    </view>\n\n    <!-- 事项列表 -->\n    <scroll-view class=\"list\" scroll-y>\n      <view v-for=\"item in displayList\" :key=\"item.id\" class=\"item\">\n        <view class=\"item-left\">\n          <uni-icons \n            :type=\"item.checked ? 'checkbox-filled' : 'checkbox'\"\n            :color=\"item.checked ? '#27BA98' : '#ddd'\"\n            @click=\"toggleCheck(item.id)\"\n          />\n        </view>\n        <view class=\"item-main\">\n          <text class=\"title\">{{ item.text }}</text>\n          <view class=\"time\">\n            <uni-icons type=\"calendar\" size=\"14\" color=\"#999\" />\n            <text>{{ formatTime(item.time) }}</text>\n          </view>\n        </view>\n        <view class=\"item-right\">\n          <uni-icons \n            type=\"trash\" \n            color=\"#FF5A5F\"\n            @click=\"deleteItem(item.id)\"\n          />\n        </view>\n      </view>\n\n      <!-- 空状态 -->\n      <view v-if=\"!displayList.length\" class=\"empty\">\n        <text class=\"empty-text\">暂时没有提醒事项</text>\n      </view>\n    </scroll-view>\n  </view>\n</template>\n\n<script>\nconst PAGE_SIZE = 10;\nexport default {\n  data() {\n    return {\n      fullList: [],\n      displayList: [],\n      page: 1\n    }\n  },\n  async onLoad() {\n    await this.loadData()\n  },\n  methods: {\n    async loadData() {\n      try {\n        const { data } = await uni.getStorage({ key: 'reminders' })\n        this.fullList = data || []\n        this.page = 1\n        this.updateDisplay()\n      } catch(e) {\n        uni.showToast({ title: '加载失败', icon: 'none' })\n      }\n    },\n    updateDisplay() {\n      this.displayList = this.fullList.slice(0, this.page * PAGE_SIZE)\n    },\n    gotoAddPage() {\r\n            uni.navigateTo({\r\n                url: '/pages/add-reminder/add-reminder',\r\n                success: () => console.log('跳转成功'),\r\n                fail: (err) => {\r\n                    console.error('跳转失败:', err);\r\n                    uni.reLaunch({  // 失败后直接使用reLaunch\r\n                        url: '/pages/add-reminder/add-reminder',\r\n                        success: () => console.log('reLaunch跳转成功'),\r\n                        fail: (err) => {\r\n                            console.error('reLaunch失败:', err);\r\n                            uni.showToast({ title: '跳转失败', icon: 'none' });\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        },\n    formatTime(timestamp) {\n      const date = new Date(timestamp)\n      return `${date.getFullYear()}-${date.getMonth()+1}-${date.getDate()} ${date.getHours()}:${date.getMinutes()}`\n    },\n    async toggleCheck(id) {\n      const item = this.fullList.find(v => v.id === id)\n      if(item) item.checked = !item.checked\n      await this.saveData()\n    },\n    async deleteItem(id) {\n      this.fullList = this.fullList.filter(v => v.id !== id)\n      await this.saveData()\n      this.updateDisplay()\n    },\n    async saveData() {\n      try {\n        await uni.setStorage({ key: 'reminders', data: this.fullList })\n      } catch(e) {\n        uni.showToast({ title: '保存失败', icon: 'none' })\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.container {\n  padding: 24rpx;\n  background: #f8f9fa;\n  min-height: 100vh;\n}\n\n.header {\n  padding: 32rpx 0;\n  .title {\n    font-size: 44rpx;\n    color: #333;\n    font-weight: 600;\n    display: block;\n    margin-bottom: 16rpx;\n  }\n  .subtitle {\n    font-size: 26rpx;\n    color: #666;\n  }\n}\n\n.add-btn {\n  margin: 24rpx 0;\n  button {\n    background: #1e6eba;\n    color: white;\n    border-radius: 12rpx;\n    font-size: 32rpx;\n    height: 88rpx;\n    line-height: 88rpx;\n    &::after { border: none; }\n  }\n}\n\n.list {\n  height: calc(100vh - 300rpx);\n  \n  .item {\n    background: white;\n    border-radius: 12rpx;\n    padding: 28rpx;\n    margin-bottom: 24rpx;\n    display: flex;\n    align-items: center;\n    box-shadow: 0 4rpx 12rpx rgba(0,0,0,0.04);\n\n    .item-left {\n      padding-right: 24rpx;\n      uni-icons {\n        font-size: 40rpx;\n      }\n    }\n\n    .item-main {\n      flex: 1;\n      .title {\n        font-size: 32rpx;\n        color: #333;\n        line-height: 1.4;\n      }\n      .time {\n        margin-top: 16rpx;\n        display: flex;\n        align-items: center;\n        font-size: 24rpx;\n        color: #999;\n        uni-icons {\n          margin-right: 8rpx;\n        }\n      }\n    }\n\n    .item-right {\n      padding-left: 24rpx;\n      uni-icons {\n        font-size: 36rpx;\n        padding: 12rpx;\n        &:active {\n          background: rgba(255,90,95,0.1);\n          border-radius: 50%;\n        }\n      }\n    }\n  }\n}\n\n.empty {\n  text-align: center;\n  padding: 100rpx 0;\n  .empty-img {\n    width: 280rpx;\n    height: 280rpx;\n    opacity: 0.4;\n  }\n  .empty-text {\n    display: block;\n    font-size: 28rpx;\n    color: #999;\n    margin-top: 24rpx;\n  }\n}\n</style>    ","import MiniProgramPage from 'C:/Users/JD/Desktop/Lotus/pages/reminder/reminder.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","err"],"mappings":";;AAgDA,MAAM,YAAY;AAClB,MAAK,YAAU;AAAA,EACb,OAAO;AACL,WAAO;AAAA,MACL,UAAU,CAAE;AAAA,MACZ,aAAa,CAAE;AAAA,MACf,MAAM;AAAA,IACR;AAAA,EACD;AAAA,EACD,MAAM,SAAS;AACb,UAAM,KAAK,SAAS;AAAA,EACrB;AAAA,EACD,SAAS;AAAA,IACP,MAAM,WAAW;AACf,UAAI;AACF,cAAM,EAAE,KAAK,IAAI,MAAMA,cAAAA,MAAI,WAAW,EAAE,KAAK,aAAa;AAC1D,aAAK,WAAW,QAAQ,CAAC;AACzB,aAAK,OAAO;AACZ,aAAK,cAAc;AAAA,MACrB,SAAQ,GAAG;AACTA,sBAAG,MAAC,UAAU,EAAE,OAAO,QAAQ,MAAM,QAAQ;AAAA,MAC/C;AAAA,IACD;AAAA,IACD,gBAAgB;AACd,WAAK,cAAc,KAAK,SAAS,MAAM,GAAG,KAAK,OAAO,SAAS;AAAA,IAChE;AAAA,IACD,cAAc;AACNA,oBAAAA,MAAI,WAAW;AAAA,QACX,KAAK;AAAA,QACL,SAAS,MAAMA,cAAAA,MAAY,MAAA,OAAA,qCAAA,MAAM;AAAA,QACjC,MAAM,CAAC,QAAQ;AACXA,wBAAc,MAAA,MAAA,SAAA,qCAAA,SAAS,GAAG;AAC1BA,wBAAAA,MAAI,SAAS;AAAA;AAAA,YACT,KAAK;AAAA,YACL,SAAS,MAAMA,cAAAA,MAAY,MAAA,OAAA,qCAAA,cAAc;AAAA,YACzC,MAAM,CAACC,SAAQ;AACXD,sFAAc,eAAeC,IAAG;AAChCD,4BAAG,MAAC,UAAU,EAAE,OAAO,QAAQ,MAAM,OAAK,CAAG;AAAA,YACjD;AAAA,UACJ,CAAC;AAAA,QACL;AAAA,MACJ,CAAC;AAAA,IACJ;AAAA,IACL,WAAW,WAAW;AACpB,YAAM,OAAO,IAAI,KAAK,SAAS;AAC/B,aAAO,GAAG,KAAK,YAAa,CAAA,IAAI,KAAK,aAAW,CAAC,IAAI,KAAK,QAAS,CAAA,IAAI,KAAK,SAAU,CAAA,IAAI,KAAK,WAAU,CAAE;AAAA,IAC5G;AAAA,IACD,MAAM,YAAY,IAAI;AACpB,YAAM,OAAO,KAAK,SAAS,KAAK,OAAK,EAAE,OAAO,EAAE;AAChD,UAAG;AAAM,aAAK,UAAU,CAAC,KAAK;AAC9B,YAAM,KAAK,SAAS;AAAA,IACrB;AAAA,IACD,MAAM,WAAW,IAAI;AACnB,WAAK,WAAW,KAAK,SAAS,OAAO,OAAK,EAAE,OAAO,EAAE;AACrD,YAAM,KAAK,SAAS;AACpB,WAAK,cAAc;AAAA,IACpB;AAAA,IACD,MAAM,WAAW;AACf,UAAI;AACF,cAAMA,cAAG,MAAC,WAAW,EAAE,KAAK,aAAa,MAAM,KAAK,UAAU;AAAA,MAChE,SAAQ,GAAG;AACTA,sBAAG,MAAC,UAAU,EAAE,OAAO,QAAQ,MAAM,QAAQ;AAAA,MAC/C;AAAA,IACF;AAAA,EACF;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChHA,GAAG,WAAW,eAAe;"}