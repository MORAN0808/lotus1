{"version":3,"file":"my-login.js","sources":["pages/my/my-login.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbXkvbXktbG9naW4udnVl"],"sourcesContent":["<template>\n  <view class=\"login-container\">\n    <input class=\"input\" type=\"text\" v-model=\"account\" placeholder=\"请输入账号\" />\n    <input class=\"input\" type=\"password\" v-model=\"password\" placeholder=\"请输入密码\" />\n    <button class=\"button\" @click=\"handleLogin\">登录</button>\n    <button class=\"button\" @click=\"navigateToRegister\">注册</button>\n  </view>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      account: '',\n      password: ''\n    };\n  },\n  methods: {\n    handleLogin() {\n      if (!this.account || !this.password) {\n        uni.showToast({ title: '请输入账号和密码', icon: 'none' });\n        return;\n      }\n      // 调用登录接口\n      this.login();\n    },\n    navigateToRegister() {\n      // 跳转到注册页面\n      this.$emit('navigate', '/pages/register/register');\n    },\n    async login() {\n      try {\n        const response = await uniCloud.callFunction({\n          name: 'login',\n          data: {\n            account: this.account,\n            password: this.password\n          }\n        });\n        if (response.result.code === 0) {\n          // 登录成功\n          uni.setStorageSync('loginToken', response.result.token);\n          this.$emit('login-success', response.result.userInfo);\n          uni.showToast({ title: '登录成功', icon: 'success' });\n        } else {\n          uni.showToast({ title: response.result.message, icon: 'none' });\n        }\n      } catch (error) {\n        console.error('登录失败:', error);\n        uni.showToast({ title: '登录失败，请重试', icon: 'none' });\n      }\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.login-container {\n  padding: 20px;\n  .input {\n    width: 100%;\n    padding: 10px;\n    margin-bottom: 15px;\n    border: 1px solid #ddd;\n    border-radius: 5px;\n  }\n  .login-button {\n    width: 100%;\n    padding: 12px;\n    background-color: #007AFF;\n    color: white;\n    border: none;\n    border-radius: 5px;\n    cursor: pointer;\n  }\n}\n</style>","import MiniProgramPage from 'C:/Users/JD/Desktop/Lotus/pages/my/my-login.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","uniCloud"],"mappings":";;AAUA,MAAK,YAAU;AAAA,EACb,OAAO;AACL,WAAO;AAAA,MACL,SAAS;AAAA,MACT,UAAU;AAAA;EAEb;AAAA,EACD,SAAS;AAAA,IACP,cAAc;AACZ,UAAI,CAAC,KAAK,WAAW,CAAC,KAAK,UAAU;AACnCA,sBAAG,MAAC,UAAU,EAAE,OAAO,YAAY,MAAM,OAAK,CAAG;AACjD;AAAA,MACF;AAEA,WAAK,MAAK;AAAA,IACX;AAAA,IACD,qBAAqB;AAEnB,WAAK,MAAM,YAAY,0BAA0B;AAAA,IAClD;AAAA,IACD,MAAM,QAAQ;AACZ,UAAI;AACF,cAAM,WAAW,MAAMC,cAAQ,GAAC,aAAa;AAAA,UAC3C,MAAM;AAAA,UACN,MAAM;AAAA,YACJ,SAAS,KAAK;AAAA,YACd,UAAU,KAAK;AAAA,UACjB;AAAA,QACF,CAAC;AACD,YAAI,SAAS,OAAO,SAAS,GAAG;AAE9BD,wBAAG,MAAC,eAAe,cAAc,SAAS,OAAO,KAAK;AACtD,eAAK,MAAM,iBAAiB,SAAS,OAAO,QAAQ;AACpDA,wBAAG,MAAC,UAAU,EAAE,OAAO,QAAQ,MAAM,UAAQ,CAAG;AAAA,eAC3C;AACLA,8BAAI,UAAU,EAAE,OAAO,SAAS,OAAO,SAAS,MAAM,OAAO,CAAC;AAAA,QAChE;AAAA,MACA,SAAO,OAAO;AACdA,sBAAc,MAAA,MAAA,SAAA,+BAAA,SAAS,KAAK;AAC5BA,sBAAG,MAAC,UAAU,EAAE,OAAO,YAAY,MAAM,OAAK,CAAG;AAAA,MACnD;AAAA,IACF;AAAA,EACF;AACF;;;;;;;;;;;;ACpDA,GAAG,WAAW,eAAe;"}