{"version":3,"file":"my-login.js","sources":["uni_modules/my-login/components/my-login/my-login.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/QzovVXNlcnMvSkQvRGVza3RvcC9Mb3R1cy91bmlfbW9kdWxlcy9teS1sb2dpbi9jb21wb25lbnRzL215LWxvZ2luL215LWxvZ2luLnZ1ZQ"],"sourcesContent":["<template>\n    <view class=\"login-container\">\n        <view class=\"login-card\">\n            <image class=\"logo\" src=\"/static/logo.png\" mode=\"aspectFit\"></image>\n            <text class=\"title\">欢迎使用</text>\n            <button class=\"login-btn\" type=\"primary\" open-type=\"getUserInfo\" @getuserinfo=\"wechatLogin\">\n                <uni-icons type=\"weixin\" size=\"18\" color=\"#fff\"></uni-icons>\n                微信一键登录\n            </button>\n        </view>\n    </view>\n</template>\n\n<script>\nexport default {\n    methods: {\n        wechatLogin(e) {\n            if (e.detail.userInfo) {\n                uni.showLoading({ title: '登录中...', mask: true });\n                uni.login({\n                    provider: 'weixin',\n                    success: (loginRes) => {\n                        console.log('登录凭证:', loginRes.authResult);\n                        uni.setStorageSync('loginToken', loginRes.authResult);\n                        // 将用户信息传递给父组件\n                        this.$emit('login-success', e.detail.userInfo); \n                        uni.hideLoading();\n                        uni.showToast({ title: '登录成功', icon: 'success' });\n                    },\n                    fail: (err) => {\n                        console.error('登录失败:', err);\n                        uni.showToast({ title: '登录失败，请重试', icon: 'none' });\n                    }\n                });\n            } else {\n                uni.showToast({ title: '登录已取消', icon: 'none' });\n            }\n        }\n    }\n};\n</script>\n\n<style lang=\"scss\">\n.login-container {\n    height: 100vh;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background: linear-gradient(135deg, #27ba98, #1a937b);\n\n    .login-card {\n        background: #fff;\n        padding: 60rpx 50rpx;\n        border-radius: 30rpx;\n        width: 80%;\n        box-shadow: 0 10rpx 30rpx rgba(0,0,0,0.1);\n        text-align: center;\n\n        .logo {\n            width: 180rpx;\n            height: 180rpx;\n            margin-bottom: 40rpx;\n        }\n\n        .title {\n            display: block;\n            font-size: 40rpx;\n            color: #333;\n            margin-bottom: 60rpx;\n            font-weight: 500;\n        }\n\n        .login-btn {\n            height: 90rpx;\n            line-height: 90rpx;\n            border-radius: 45rpx;\n            font-size: 32rpx;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            background: #07c160;\n\n            uni-icons {\n                margin-right: 15rpx;\n            }\n        }\n    }\n}\n</style>","import Component from 'C:/Users/JD/Desktop/Lotus/uni_modules/my-login/components/my-login/my-login.vue'\nwx.createComponent(Component)"],"names":["uni"],"mappings":";;;AAcA,MAAK,YAAU;AAAA,EACX,SAAS;AAAA,IACL,YAAY,GAAG;AACX,UAAI,EAAE,OAAO,UAAU;AACnBA,sBAAG,MAAC,YAAY,EAAE,OAAO,UAAU,MAAM,KAAG,CAAG;AAC/CA,sBAAAA,MAAI,MAAM;AAAA,UACN,UAAU;AAAA,UACV,SAAS,CAAC,aAAa;AACnBA,0BAAA,MAAA,MAAA,OAAA,+DAAY,SAAS,SAAS,UAAU;AACxCA,0BAAAA,MAAI,eAAe,cAAc,SAAS,UAAU;AAEpD,iBAAK,MAAM,iBAAiB,EAAE,OAAO,QAAQ;AAC7CA,0BAAG,MAAC,YAAW;AACfA,0BAAG,MAAC,UAAU,EAAE,OAAO,QAAQ,MAAM,UAAQ,CAAG;AAAA,UACnD;AAAA,UACD,MAAM,CAAC,QAAQ;AACXA,0BAAc,MAAA,MAAA,SAAA,+DAAA,SAAS,GAAG;AAC1BA,0BAAG,MAAC,UAAU,EAAE,OAAO,YAAY,MAAM,OAAK,CAAG;AAAA,UACrD;AAAA,QACJ,CAAC;AAAA,aACE;AACHA,sBAAG,MAAC,UAAU,EAAE,OAAO,SAAS,MAAM,OAAK,CAAG;AAAA,MAClD;AAAA,IACJ;AAAA,EACJ;AACJ;;;;;;;;;;;;;;;;;;;;;ACtCA,GAAG,gBAAgB,SAAS;"}